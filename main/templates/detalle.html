{% extends 'base.html' %}

{% block content %}
<style>
    body {
        font-family: "Poppins", sans-serif;
        height: 1100px;
    }

    .container-d {
        height: 100%;
        width: auto;
        background-color: #a6caec;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center;
    }

    .main-section {
        position: absolute;
        left: 50%;
        right: 50%;
        transform: translate(-50%, 5%);
        background-color: #ffffff;
    }

    .right-side-pro-detail span {
        font-size: 18px;
        color: #3f3f3f;
    }

    h2 {
        font-size: 35px;
        font-weight: bold;
        color: #3a3a3a;   
    }    

    .right-side-pro-detail .price-pro {
        font-size: 25px;
        color: #3a3a3a;
    }

    .right-side-pro-detail .tag-section {
        font-size: 16px;
        color: #000000;
    }

    a {
        color: #000000;
    }

    @media (min-width:360px) and (max-width:640px) {
        .pro-box-section .pro-box img {
            height: auto;
        }
    }

    .carousel {
        width: 100%;
        margin: 0;
    }

    .carousel-item {
        position: relative;
        width: 100%;
        height: 30rem; /* Adjust height as needed */
        overflow: hidden;
    }

    .carousel-item img {
        position: absolute;
        top: 50%;
        left: 50%;
        min-height: 100%;
        min-width: 100%;
        transform: translate(-50%, -50%);
    }

    .carousel-gradient {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 30%;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.9), transparent);
    }

    .carousel-caption {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        text-align: center;
        z-index: 10; /* Ensure captions are above the gradient */
    }

    .center-content {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
    }
</style>
<div class="container-d">
    <div class="col-lg-8 p-3 main-section mx-auto">
        <div class="row m-0">
            <div id="carouselExampleCaptions" class="carousel slide carousel-fade" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="{{ inmueble.img1 }}" class="d-block w-100" alt="...">
                        <div class="carousel-gradient"></div>
                    </div>
                    {% if inmueble.img2 %}
                    <div class="carousel-item">
                        <img src="{{ inmueble.img2 }}" class="d-block w-100" alt="...">
                        <div class="carousel-gradient"></div>
                    </div>
                    {% endif %}
                    {% if inmueble.img3 %}
                    <div class="carousel-item">
                        <img src="{{ inmueble.img3 }}" class="d-block w-100" alt="...">
                        <div class="carousel-gradient"></div>
                    </div>
                    {% endif %}
                    {% if inmueble.img4 %}
                    <div class="carousel-item">
                        <img src="{{ inmueble.img4 }}" class="d-block w-100" alt="...">
                        <div class="carousel-gradient"></div>
                    </div>
                    {% endif %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>            
            <div class="col-lg-8 mx-auto mt-3">
                <div class="right-side-pro-detail p-3 m-0">
                    <div class="row">
                        <div class="col-lg-6">
                            <h2>{{ inmueble.nombre }}</h2>
                        </div>
                        <div class="col-lg-6">
                            <p class="m-0 p-0 price-pro text-end">${{ inmueble.precio }} <span class="text-end">por mes</span></p>
                        </div>
                        <div class="col-lg-12 pt-2 bold">
                            <hr class="p-0 m-0">
                            <h5 class="mt-3">Descripción</h5>
                            <span>{{ inmueble.descripcion }}</span>
                            <hr class="m-0 pt-2 mt-4 mb-4">
                        </div>
                        <div class="col-lg-6">
                            <p class="tag-section"><strong>Región: </strong> Región {{ inmueble.comuna.region.nombre }}</p>
                            <p class="tag-section"><strong>Comuna: </strong>{{ inmueble.comuna.nombre }}</p>
                            <p class="tag-section"><strong>Dirección: </strong>{{ inmueble.direccion }}</p>
                            <p class="tag-section"><strong>Propietario: </strong>{{ inmueble.propietario.first_name }} {{ inmueble.propietario.last_name }}</p>
                        </div>
                        <div class="col-lg-6 px-5">
                            <p class="tag-section"><strong>Tipo: </strong>{{ inmueble.tipo_inmueble }}</p>
                            <p class="tag-section"><strong>Habitaciones: </strong>{{ inmueble.n_habitaciones }}</p>
                            <p class="tag-section"><strong>Baños: </strong>{{ inmueble.n_banos }}</p>
                            <p class="tag-section"><strong>Estacionamientos: </strong>{{ inmueble.n_estacionamientos }}</p>
                        </div>
                        <div class="col-lg-12 mt-3">
                            <div class="row">
                                <div class="col-lg-6 pb-2">
                                    <a href="#" class="btn btn-secondary w-100" data-inmueble-id="{{ inmueble.id }}" id="add-cart">Añadir Favorito</a>
                                </div>
                                <div class="col-lg-6">
                                    <a href="#" class="btn btn-secondary w-100">Solicitar Ahora</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>   
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

{% endblock %}

{% block css %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" rel="stylesheet">
{% endblock %}
